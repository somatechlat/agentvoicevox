# =============================================================================
# AgentVoiceVox - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
DJANGO_ENV=development
APP_SECRET_KEY=change-me-in-production-use-strong-random-key

# DEV BYPASS: Set to 'true' to skip Keycloak auth (local testing only!)
# WARNING: Never enable in production!
VITE_DEV_BYPASS_AUTH=false

# -----------------------------------------------------------------------------
# LLM Provider Configuration (at least one required)
# -----------------------------------------------------------------------------
LLM_DEFAULT_PROVIDER=groq
GROQ_API_KEY=
OPENAI_API_KEY=

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DATABASE__URI=postgresql+psycopg://agentvoicebox:agentvoicebox@postgres:5432/agentvoicebox
DATABASE__POOL_SIZE=5
DATABASE__MAX_OVERFLOW=5
DATABASE__ECHO=false

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS__URL=redis://redis:6379/0

# -----------------------------------------------------------------------------
# Keycloak Configuration
# -----------------------------------------------------------------------------
KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=agentvoicebox
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# -----------------------------------------------------------------------------
# Portal Frontend URLs (Lit/Vite uses VITE_ prefix)
# -----------------------------------------------------------------------------
VITE_API_URL=http://localhost:65020/api
VITE_KEYCLOAK_URL=http://localhost:65006

# -----------------------------------------------------------------------------
# Lago Billing Configuration
# -----------------------------------------------------------------------------
LAGO_API_URL=http://lago:3000

# -----------------------------------------------------------------------------
# OPA Policy Engine
# -----------------------------------------------------------------------------
OPA__URL=http://opa:8181
OPA__DECISION_PATH=/v1/data/voice/allow
OPA__TIMEOUT_SECONDS=3

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
OBSERVABILITY__SERVICE_NAME=agentvoicevox
OBSERVABILITY__LOG_LEVEL=INFO
OBSERVABILITY__PROMETHEUS_NAMESPACE=agentvoicevox
# OBSERVABILITY__SENTRY_DSN=
# OBSERVABILITY__ENABLE_TRACING=true

# -----------------------------------------------------------------------------
# TTS Configuration
# -----------------------------------------------------------------------------
TTS_DEFAULT_VOICE=am_onyx
TTS_DEFAULT_SPEED=1.1

# -----------------------------------------------------------------------------
# STT Configuration
# -----------------------------------------------------------------------------
STT_MODEL=tiny
STT_DEVICE=cpu
